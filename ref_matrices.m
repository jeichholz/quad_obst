function [A,B,ref_volume]=ref_matrices(basis_deg)


    %IN A(i,:,k) = nabla phi_i (x_k)
    %IN B(i,j)= int_That phi_i*phi_j
    
    ref_volume=1/2;
    
    
    %midpoints are ordered as follows:
    %mp(1,2), mp(1,3), mp(2,3)  
    
    
    if basis_deg==1
        A(:,:,1)=[[-1;-1],[1;0],[0;1]];
        A(:,:,2)=A(:,:,1);
        A(:,:,3)=A(:,:,1);

        B=[1/12,1/24,1/24;...
            1/24,1/12,1/24;...
            1/24,1/24,1/12];
        

    elseif basis_deg==2
        
        A(:,:,1)=[-3,-1,0,4,0,0; -3,0,-1,0,4,0];
        A(:,:,2)=[1,3,0,-4,0,0;1,0,-1,-4,0,4];
        A(:,:,3)=[1,-1,0,0,-4,4;1,0,3,0,-4,0];
        A(:,:,4)=[-1,1,0,0,0,0;-1,0,-1,-2,2,2];
        A(:,:,5)=[-1,-1,0,2,-2,2;-1,0,1,0,0,0];
        A(:,:,6)=[1,1,0,-2,-2,2;1,0,1,-2,-2,2];
        
        B=      [1/60,-1/360,-1/360,0,0,-1/90;...
                -1/360,1/60,-1/360,0,-1/90,0;...
                -1/360,-1/360,1/60,-1/90,0,0;...
                0,0,-1/90,4/45,2/45,2/45;...
                0,-1/90,0,2/45,4/45,2/45;...
                -1/90,0,0,2/45,2/45,4/45];
            
    %The order here is
    %mp(1,2), mp(1,3), mp(1,4), mp (1,5), mp(1,6)
            
            
         V=[0,0,0,1,0,0;
             0,0,0,0,1,0;
             3/8,-1/8,0,3/4,0,0;
             3/8,0,-1/8,0,3/4,0;
             0,-1/8,-1/8,1/2,1/2,1/4;
             0,0,0,0,0,1;
             -1/8,3/8,0,3/4,0,0;
             -1/8,0,-1/8,1/2,1/4,1/2;
             0,3/8,-1/8,0,0,3/4;
             -1/8,-1/8,0,1/4,1/2,1/2;
             -1/8,0,3/8,0,3/4,0;
             0,-1/8,3/8,0,0,3/4;
             0,-1/8,-1/8,1/2,1/2,1/4;
             -1/8,0,-1/8,1/2,1/4,1/2;
             -1/8,-1/8,0,1/4,1/2,1/2];

        
    else
        fprintf(2,'Basis degree not supported.\n');
        return;
    end
    
    
        
    